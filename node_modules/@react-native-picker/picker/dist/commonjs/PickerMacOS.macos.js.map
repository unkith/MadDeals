{"version":3,"names":["Object","defineProperty","exports","value","default","React","_interopRequireWildcard","require","_reactNative","_RNCPickerNativeComponent","_interopRequireDefault","obj","__esModule","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_defineProperty","key","_toPropertyKey","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","PickerMacOSItem","props","PickerMacOS","Component","constructor","args","selectedIndex","items","event","onChange","onValueChange","nativeEvent","newValue","newIndex","_picker","state","setNativeProps","getDerivedStateFromProps","Children","toArray","children","forEach","child","index","selectedValue","push","label","textColor","processColor","color","testID","render","createElement","View","style","ref","picker","styles","pickerMacOS","itemStyle","_onChange","StyleSheet","create","height","_default"],"sources":["PickerMacOS.macos.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n * This is a controlled component version of RNCPickerMacOS\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nimport * as React from 'react';\nimport {processColor, StyleSheet, View} from 'react-native';\nimport RNCPickerNativeComponent from './RNCPickerNativeComponent';\n\nimport type {SyntheticEvent} from 'react-native/Libraries/Types/CoreEventTypes';\nimport type {ColorValue} from 'react-native/Libraries/StyleSheet/StyleSheet';\nimport type {ProcessedColorValue} from 'react-native/Libraries/StyleSheet/processColor';\nimport type {ViewProps} from 'react-native/Libraries/Components/View/ViewPropTypes';\nimport type {TextStyleProp} from 'react-native/Libraries/StyleSheet/StyleSheet';\nimport type {Element, ElementRef, ChildrenArray} from 'react';\nimport type {HostComponent} from 'react-native/Libraries/Renderer/shims/ReactNativeTypes';\n\ntype PickerMacOSChangeEvent = SyntheticEvent<\n  $ReadOnly<{|\n    newValue: number | string,\n    newIndex: number,\n  |}>,\n>;\n\ntype RNCPickerMacOSItemType = $ReadOnly<{|\n  label: ?Label,\n  value: ?(number | string),\n  textColor: ?ProcessedColorValue,\n  testID: ?string,\n|}>;\n\ntype RNCPickerMacOSType = HostComponent<\n  $ReadOnly<{|\n    items: $ReadOnlyArray<RNCPickerMacOSItemType>,\n    onChange: (event: PickerMacOSChangeEvent) => void,\n    selectedIndex: number,\n    style?: ?TextStyleProp,\n    testID?: ?string,\n  |}>,\n>;\n\ntype Label = Stringish | number;\n\ntype Props = $ReadOnly<{|\n  ...ViewProps,\n  // $FlowFixMe\n  children: ChildrenArray<Element<typeof PickerMacOSItem>>,\n  itemStyle?: ?TextStyleProp,\n  onChange?: ?(event: PickerMacOSChangeEvent) => mixed,\n  onValueChange?: ?(itemValue: string | number, itemIndex: number) => mixed,\n  selectedValue: ?(number | string),\n|}>;\n\ntype State = {|\n  selectedIndex: number,\n  items: $ReadOnlyArray<RNCPickerMacOSItemType>,\n|};\n\ntype ItemProps = $ReadOnly<{|\n  label: ?Label,\n  value?: ?(number | string),\n  color?: ?ColorValue,\n  testID: ?string,\n|}>;\n\nconst PickerMacOSItem = (props: ItemProps): null => {\n  return null;\n};\n\nclass PickerMacOS extends React.Component<Props, State> {\n  _picker: ?ElementRef<RNCPickerMacOSType> = null;\n\n  state: State = {\n    selectedIndex: 0,\n    items: [],\n  };\n\n  static Item: typeof PickerMacOSItem = PickerMacOSItem;\n\n  static getDerivedStateFromProps(props: Props): State {\n    let selectedIndex = 0;\n    const items = [];\n    React.Children.toArray<$FlowFixMe>(props.children).forEach(function (\n      child: $FlowFixMe,\n      index: number,\n    ) {\n      if (child.props.value === props.selectedValue) {\n        selectedIndex = index;\n      }\n      items.push({\n        value: child.props.value,\n        label: child.props.label,\n        textColor: processColor(child.props.color),\n        testID: child.props.testID,\n      });\n    });\n    return {selectedIndex, items};\n  }\n\n  render(): React.Node {\n    return (\n      <View style={this.props.style}>\n        <RNCPickerNativeComponent\n          ref={(picker) => {\n            this._picker = picker;\n          }}\n          testID={this.props.testID}\n          style={[styles.pickerMacOS, this.props.itemStyle]}\n          // $FlowFixMe\n          items={this.state.items}\n          selectedIndex={this.state.selectedIndex}\n          onChange={this._onChange}\n        />\n      </View>\n    );\n  }\n\n  _onChange = (event: $FlowFixMe) => {\n    if (this.props.onChange) {\n      this.props.onChange(event);\n    }\n    if (this.props.onValueChange) {\n      this.props.onValueChange(\n        event.nativeEvent.newValue,\n        event.nativeEvent.newIndex,\n      );\n    }\n\n    // The picker is a controlled component. This means we expect the\n    // on*Change handlers to be in charge of updating our\n    // `selectedValue` prop. That way they can also\n    // disallow/undo/mutate the selection of certain values. In other\n    // words, the embedder of this component should be the source of\n    // truth, not the native component.\n    if (\n      this._picker &&\n      this.state.selectedIndex !== event.nativeEvent.newIndex\n    ) {\n      this._picker.setNativeProps({\n        selectedIndex: this.state.selectedIndex,\n      });\n    }\n  };\n}\n\nconst styles = StyleSheet.create({\n  pickerMacOS: {\n    // The picker will conform to whatever width is given, but we do\n    // have to set the component's height explicitly on the\n    // surrounding view to ensure it gets rendered.\n    height: 24,\n  },\n});\n\nexport default PickerMacOS;\n"],"mappings":"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"}