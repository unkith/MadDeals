{"version":3,"names":["_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","React","processColor","StyleSheet","View","RNCPickerNativeComponent","PickerMacOSItem","props","PickerMacOS","Component","constructor","args","selectedIndex","items","event","onChange","onValueChange","nativeEvent","newValue","newIndex","_picker","state","setNativeProps","getDerivedStateFromProps","Children","toArray","children","forEach","child","index","selectedValue","push","label","textColor","color","testID","render","createElement","style","ref","picker","styles","pickerMacOS","itemStyle","_onChange","create","height"],"sources":["PickerMacOS.macos.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n * This is a controlled component version of RNCPickerMacOS\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nimport * as React from 'react';\nimport {processColor, StyleSheet, View} from 'react-native';\nimport RNCPickerNativeComponent from './RNCPickerNativeComponent';\n\nimport type {SyntheticEvent} from 'react-native/Libraries/Types/CoreEventTypes';\nimport type {ColorValue} from 'react-native/Libraries/StyleSheet/StyleSheet';\nimport type {ProcessedColorValue} from 'react-native/Libraries/StyleSheet/processColor';\nimport type {ViewProps} from 'react-native/Libraries/Components/View/ViewPropTypes';\nimport type {TextStyleProp} from 'react-native/Libraries/StyleSheet/StyleSheet';\nimport type {Element, ElementRef, ChildrenArray} from 'react';\nimport type {HostComponent} from 'react-native/Libraries/Renderer/shims/ReactNativeTypes';\n\ntype PickerMacOSChangeEvent = SyntheticEvent<\n  $ReadOnly<{|\n    newValue: number | string,\n    newIndex: number,\n  |}>,\n>;\n\ntype RNCPickerMacOSItemType = $ReadOnly<{|\n  label: ?Label,\n  value: ?(number | string),\n  textColor: ?ProcessedColorValue,\n  testID: ?string,\n|}>;\n\ntype RNCPickerMacOSType = HostComponent<\n  $ReadOnly<{|\n    items: $ReadOnlyArray<RNCPickerMacOSItemType>,\n    onChange: (event: PickerMacOSChangeEvent) => void,\n    selectedIndex: number,\n    style?: ?TextStyleProp,\n    testID?: ?string,\n  |}>,\n>;\n\ntype Label = Stringish | number;\n\ntype Props = $ReadOnly<{|\n  ...ViewProps,\n  // $FlowFixMe\n  children: ChildrenArray<Element<typeof PickerMacOSItem>>,\n  itemStyle?: ?TextStyleProp,\n  onChange?: ?(event: PickerMacOSChangeEvent) => mixed,\n  onValueChange?: ?(itemValue: string | number, itemIndex: number) => mixed,\n  selectedValue: ?(number | string),\n|}>;\n\ntype State = {|\n  selectedIndex: number,\n  items: $ReadOnlyArray<RNCPickerMacOSItemType>,\n|};\n\ntype ItemProps = $ReadOnly<{|\n  label: ?Label,\n  value?: ?(number | string),\n  color?: ?ColorValue,\n  testID: ?string,\n|}>;\n\nconst PickerMacOSItem = (props: ItemProps): null => {\n  return null;\n};\n\nclass PickerMacOS extends React.Component<Props, State> {\n  _picker: ?ElementRef<RNCPickerMacOSType> = null;\n\n  state: State = {\n    selectedIndex: 0,\n    items: [],\n  };\n\n  static Item: typeof PickerMacOSItem = PickerMacOSItem;\n\n  static getDerivedStateFromProps(props: Props): State {\n    let selectedIndex = 0;\n    const items = [];\n    React.Children.toArray<$FlowFixMe>(props.children).forEach(function (\n      child: $FlowFixMe,\n      index: number,\n    ) {\n      if (child.props.value === props.selectedValue) {\n        selectedIndex = index;\n      }\n      items.push({\n        value: child.props.value,\n        label: child.props.label,\n        textColor: processColor(child.props.color),\n        testID: child.props.testID,\n      });\n    });\n    return {selectedIndex, items};\n  }\n\n  render(): React.Node {\n    return (\n      <View style={this.props.style}>\n        <RNCPickerNativeComponent\n          ref={(picker) => {\n            this._picker = picker;\n          }}\n          testID={this.props.testID}\n          style={[styles.pickerMacOS, this.props.itemStyle]}\n          // $FlowFixMe\n          items={this.state.items}\n          selectedIndex={this.state.selectedIndex}\n          onChange={this._onChange}\n        />\n      </View>\n    );\n  }\n\n  _onChange = (event: $FlowFixMe) => {\n    if (this.props.onChange) {\n      this.props.onChange(event);\n    }\n    if (this.props.onValueChange) {\n      this.props.onValueChange(\n        event.nativeEvent.newValue,\n        event.nativeEvent.newIndex,\n      );\n    }\n\n    // The picker is a controlled component. This means we expect the\n    // on*Change handlers to be in charge of updating our\n    // `selectedValue` prop. That way they can also\n    // disallow/undo/mutate the selection of certain values. In other\n    // words, the embedder of this component should be the source of\n    // truth, not the native component.\n    if (\n      this._picker &&\n      this.state.selectedIndex !== event.nativeEvent.newIndex\n    ) {\n      this._picker.setNativeProps({\n        selectedIndex: this.state.selectedIndex,\n      });\n    }\n  };\n}\n\nconst styles = StyleSheet.create({\n  pickerMacOS: {\n    // The picker will conform to whatever width is given, but we do\n    // have to set the component's height explicitly on the\n    // surrounding view to ensure it gets rendered.\n    height: 24,\n  },\n});\n\nexport default PickerMacOS;\n"],"mappings":"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"}